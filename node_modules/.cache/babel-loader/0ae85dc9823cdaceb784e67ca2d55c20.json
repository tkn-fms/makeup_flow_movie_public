{"remainingRequest":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/babel-loader/lib/index.js!/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/src/views/Flowchart.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/src/views/Flowchart.vue","mtime":1687169616225},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/babel.config.js","mtime":1661341671887},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/babel-loader/lib/index.js","mtime":1663381957251},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/cache-loader/dist/cjs.js","mtime":1663381957340},{"path":"/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/node_modules/vue-loader-v16/dist/index.js","mtime":1663381993401}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQmFja2dyb3VuZCwgQ29udHJvbHMsIE1pbmlNYXAsIFZ1ZUZsb3csIGlzTm9kZSwgaXNFZGdlLCBNYXJrZXJUeXBlLCBDb25uZWN0aW9uTW9kZSwgdXNlVnVlRmxvdyB9IGZyb20gJ0BicmFrcy92dWUtZmxvdyc7CmltcG9ydCB7IG1hcmtSYXcsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBpbml0aWFsRWxlbWVudHMgfSBmcm9tICcuLi9qcy9pbml0aWFsLWVsZW1lbnRzLmpzJzsKLy/jgqvjgrnjgr/jg6Djg47jg7zjg4njga7ov73liqAKaW1wb3J0IE1ha2VOb2RlIGZyb20gJ0AvY29tcG9uZW50cy9NYWtlTm9kZS52dWUnOwppbXBvcnQgTW90aXZhdGlvbk5vZGUgZnJvbSAnQC9jb21wb25lbnRzL01vdGl2YXRpb25Ob2RlLnZ1ZSc7CmltcG9ydCBTZWFzb25Ob2RlIGZyb20gJ0AvY29tcG9uZW50cy9TZWFzb25Ob2RlLnZ1ZSc7CmltcG9ydCBUaW1lTm9kZSBmcm9tICdAL2NvbXBvbmVudHMvVGltZU5vZGUudnVlJzsKLy/lrZDjgrPjg7Pjg53jg7zjg43jg7Pjg4jjga7ov73liqAKaW1wb3J0IE5vZGVTZXR0aW5ncyBmcm9tICdAL2NvbXBvbmVudHMvTm9kZVNldHRpbmdzLnZ1ZSc7CmltcG9ydCBGYWNlSW1hZ2UgZnJvbSAnQC9jb21wb25lbnRzL0ZhY2VJbWFnZS52dWUnOwppbXBvcnQgTm9kZUZpZWxkIGZyb20gJ0AvY29tcG9uZW50cy9Ob2RlRmllbGQudnVlJzsKaW1wb3J0IFRvcE1lbnUgZnJvbSAnQC9jb21wb25lbnRzL1RvcE1lbnUudnVlJzsKLy/jg6njgqTjg5bjg6njg6rjga7ov73liqAKaW1wb3J0IFZ1ZVNpbXBsZUNvbnRleHRNZW51IGZyb20gJ3Z1ZS1zaW1wbGUtY29udGV4dC1tZW51JzsKLy9pbXBvcnQgJ3Z1ZS1zaW1wbGUtY29udGV4dC1tZW51L2Rpc3QvdnVlLXNpbXBsZS1jb250ZXh0LW1lbnUuY3NzJwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwovL2ltcG9ydCAqIGFzIGh0bWxUb0ltYWdlIGZyb20gImh0bWwtdG8taW1hZ2UiCgovL+WIneacn+ioreWumgovKiB2dWUtZmxvd+OBruWIneacn+ioreWumiAqLwoKZXhwb3J0IGRlZmF1bHQgewogIF9fbmFtZTogJ0Zsb3djaGFydCcsCiAgc2V0dXAoX19wcm9wcywgewogICAgZXhwb3NlCiAgfSkgewogICAgZXhwb3NlKCk7CiAgICBjb25zdCB7CiAgICAgIG9uUGFuZVJlYWR5LAogICAgICBvbkNvbm5lY3QsCiAgICAgIG9uRWRnZXNDaGFuZ2UsCiAgICAgIG9uTm9kZXNDaGFuZ2UsCiAgICAgIGFkZEVkZ2VzLAogICAgICBhZGROb2RlcywKICAgICAgdG9PYmplY3QsCiAgICAgIHByb2plY3QsCiAgICAgIGdldE5vZGUsCiAgICAgIGdldEVkZ2UKICAgIH0gPSB1c2VWdWVGbG93KCk7CiAgICBjb25zdCBlbGVtZW50cyA9IHJlZihpbml0aWFsRWxlbWVudHMpOwogICAgY29uc3Qgbm9kZVR5cGVzID0gewogICAgICBjdXN0b21NYWtlOiBtYXJrUmF3KE1ha2VOb2RlKSwKICAgICAgY3VzdG9tTW90aXZhdGlvbjogbWFya1JhdyhNb3RpdmF0aW9uTm9kZSksCiAgICAgIGN1c3RvbVNlYXNvbjogbWFya1JhdyhTZWFzb25Ob2RlKSwKICAgICAgY3VzdG9tVGltZTogbWFya1JhdyhUaW1lTm9kZSkKICAgIH07CiAgICAvKiBzdG9yZeOBqHJvdXRlcuOBrumWi+WniyAqLwogICAgY29uc3Qgc3RvcmUgPSB1c2VTdG9yZSgpOwogICAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7CiAgICAvKiDjg47jg7zjg4njga7nrqHnkIblpInmlbAgKi8KICAgIHZhciBTa2V5cyA9IFtdOyAvL3NvdXJjZQogICAgdmFyIGVkZ2VTTnVtID0gW107IC8vc291cmNl44GL44KJ6KaL44GfZWRnZeOBrumHjeikhyBzb3VyY2U6W2lkXQogICAgdmFyIG1ha2VOb2RlTnVtID0gewogICAgICAwOiBbXSwKICAgICAgMTogW10sCiAgICAgIDI6IFtdLAogICAgICAzOiBbXSwKICAgICAgNDogW10sCiAgICAgIDU6IFtdLAogICAgICA2OiBbXSwKICAgICAgNzogW10KICAgIH07IC8vaW1nTnVtOltpZF0KICAgIC8qIHZ1ZS1zaW1wbGUtY29udGV4dC1tZW5144Gu5Yid5pyf6Kit5a6aICovCiAgICBjb25zdCBvcHRpb25zID0gW3sKICAgICAgbmFtZTogIkNvcHkiLAogICAgICBzbHVnOiAiY29weSIKICAgIH1dOwogICAgY29uc3QgdnVlQ29udGV4dE1lbnUgPSByZWYoaW5pdGlhbEVsZW1lbnRzKTsKCiAgICAvKiB2dWUtc2ltcGxlLWNvbnRleHQtbWVudeOBrumWouaVsCAqLwogICAgY29uc3QgaGFuZGxlQ2xpY2sgPSBldmVudCA9PiB7CiAgICAgIC8vIG92ZXJ3cml0ZSByZWFkb25seSBwcm9wZXJ0aWVzIHBhZ2VYIGFuZCBwYWdlWSBhbmQgc2V0IGNvcnJlY3QgdmFsdWVzCiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShldmVudCwgJ3BhZ2VYJywgewogICAgICAgIHZhbHVlOiBldmVudC5wYWdlWCAtIDM1MCwKICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICB9KTsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV2ZW50LCAncGFnZVknLCB7CiAgICAgICAgdmFsdWU6IGV2ZW50LnBhZ2VZIC0gMTAwLAogICAgICAgIC8vZXZlbnQucGFnZVkgLSAxMDAKICAgICAgICB3cml0YWJsZTogdHJ1ZQogICAgICB9KTsKICAgICAgdnVlQ29udGV4dE1lbnUudmFsdWUuc2hvd01lbnUoZXZlbnQpOwogICAgfTsKICAgIC8v44Kz44Oz44OG44Kt44K544OI44Oh44OL44Ol44O844KS5ZG844Gz5Ye644GZCiAgICBjb25zdCBzZWxlY3RNZW51ID0gcGFyYW1zID0+IHsKICAgICAgc3RvcmUuY29tbWl0KCJzZXRTZWxlY3ROb2RlTGlzdCIsIHBhcmFtcy5ub2Rlcyk7CiAgICB9OwogICAgLy/jgrPjg7Pjg4bjgq3jgrnjg4jjg6Hjg4vjg6Xjg7zjga7jgq/jg6rjg4Pjgq8KICAgIGNvbnN0IG9wdGlvbkNsaWNrZWQgPSAoKSA9PiB7CiAgICAgIHZhciBjb3B5Tm9kZTsKICAgICAgdmFyIGNvcHlOb2Rlc0RhdGEgPSBzdG9yZS5zdGF0ZS5zZWxlY3Rub2RlTGlzdDsKICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBjb3B5Tm9kZXNEYXRhLmxlbmd0aDsgcysrKSB7CiAgICAgICAgdmFyIGNvcHlOb2RlRGF0YSA9IHN0b3JlLnN0YXRlLnNlbGVjdG5vZGVMaXN0W3NdOwogICAgICAgIGlmIChjb3B5Tm9kZURhdGEudHlwZSA9PSAnaW5wdXQnIHx8IGNvcHlOb2RlRGF0YS50eXBlID09ICdvdXRwdXQnKSB7CiAgICAgICAgICAvL+mWi+Wni+ODjuODvOODieOBi+e1guS6huODjuODvOODiQogICAgICAgICAgLy/jgrPjg5Tjg7zjgZXjgZvjgarjgYQKICAgICAgICAgIGNvcHlOb2RlID0gewogICAgICAgICAgICBpZDogc3NfZ2V0SWQoKSwKICAgICAgICAgICAgdHlwZTogY29weU5vZGVEYXRhLnR5cGUsCiAgICAgICAgICAgIHBvc2l0aW9uOiBwcm9qZWN0KHsKICAgICAgICAgICAgICB4OiBjb3B5Tm9kZURhdGEucG9zaXRpb24ueCArIDEwMCwKICAgICAgICAgICAgICB5OiBjb3B5Tm9kZURhdGEucG9zaXRpb24ueSArIDEwMAogICAgICAgICAgICB9KSwKICAgICAgICAgICAgbGFiZWw6IGNvcHlOb2RlRGF0YS5sYWJlbAogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgaWYgKGNvcHlOb2RlRGF0YS50eXBlID09ICdjdXN0b21NYWtlJykgewogICAgICAgICAgLy/jg6HjgqTjgq/jg47jg7zjg4kKICAgICAgICAgIGNvcHlOb2RlID0gewogICAgICAgICAgICBpZDogbV9nZXRJZCgpLAogICAgICAgICAgICB0eXBlOiBjb3B5Tm9kZURhdGEudHlwZSwKICAgICAgICAgICAgcG9zaXRpb246IHByb2plY3QoewogICAgICAgICAgICAgIHg6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi54ICsgMTAwLAogICAgICAgICAgICAgIHk6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi55ICsgMTAwCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBsYWJlbDogY29weU5vZGVEYXRhLmxhYmVsLAogICAgICAgICAgICBzdHlsZTogY29weU5vZGVEYXRhLnN0eWxlLAogICAgICAgICAgICBkYXRhOiBjb3B5Tm9kZURhdGEuZGF0YQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy/liIblspDvvIjjg5bjg6njg7Pjg4HvvInjg47jg7zjg4kKICAgICAgICAgIGNvcHlOb2RlID0gewogICAgICAgICAgICBpZDogY29weU5vZGVEYXRhLnR5cGUgPT0gJ2N1c3RvbU1vdGl2YXRpb24nID8gbXZfZ2V0SWQoKSA6IGNvcHlOb2RlRGF0YS50eXBlID09ICdjdXN0b21TZWFzb24nID8gc19nZXRJZCgpIDogdF9nZXRJZCgpLAogICAgICAgICAgICB0eXBlOiBjb3B5Tm9kZURhdGEudHlwZSwKICAgICAgICAgICAgcG9zaXRpb246IHByb2plY3QoewogICAgICAgICAgICAgIHg6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi54ICsgMTAwLAogICAgICAgICAgICAgIHk6IGNvcHlOb2RlRGF0YS5wb3NpdGlvbi55ICsgMTAwCiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBsYWJlbDogY29weU5vZGVEYXRhLmxhYmVsLAogICAgICAgICAgICBzdHlsZTogY29weU5vZGVEYXRhLnN0eWxlCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBhZGROb2RlcyhbY29weU5vZGVdKTsKICAgICAgfQogICAgfTsKCiAgICAvKiDotbfli5XmmYLjga7mjJnli5UgKi8KICAgIC8vb25QYW5lUmVhZHnjga/jgIF2aWV3cGFuZeOBqOODjuODvOODieOBq+ihqOekuuWPr+iDveOBquODh+OCo+ODoeODs+OCt+ODp+ODs+OBjOOBguOCi+WgtOWQiOOBq+WRvOOBs+WHuuOBleOCjOOBvuOBmQogICAgb25QYW5lUmVhZHkoKHsKICAgICAgZml0VmlldwogICAgfSkgPT4gewogICAgICBmaXRWaWV3KCk7CiAgICB9KTsKICAgIGNvbnN0IG9uTG9hZCA9IGZsb3dJbnN0YW5jZSA9PiBmbG93SW5zdGFuY2UuZml0VmlldygpOwoKICAgIC8qIOWvvuixoeOBruODjuODvOODieOBqOOCqOODg+OCuOOBruiqv+afuyAqLwogICAgLy/lr77osaHjgqjjg4PjgrjjgajlkIzjgZjjg47jg7zjg4njgYvjgonlh7rjgabjgYTjgovjgqjjg4Pjgrjjga7mnKzmlbDjgpLov5TjgZkocmV0dXJuKQogICAgY29uc3Qgc3VydmV5U2FtZVNvdXJjZSA9IHNvdXJjZSA9PiB7CiAgICAgIGlmIChTa2V5cy5pbmNsdWRlcyhzb3VyY2UpKSB7CiAgICAgICAgdmFyIHRlbXAyID0gZWRnZVNOdW1bc291cmNlXTsKICAgICAgICByZXR1cm4gdGVtcDIubGVuZ3RoOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9OwogICAgLy/lr77osaHjgqjjg4Pjgrjjga7ov73liqAv5YmK6Zmk44Gr5Ly044GGU2tleXPjgahlZGdlU051beOBruabtOaWsAogICAgY29uc3QgY2hhbmdlRWRnZXMgPSAoZWRnZSwgdHlwZSkgPT4gewogICAgICAvL+ODh+ODvOOCv+WPl+OBkeWPluOCigogICAgICB2YXIgZWlkID0gZWRnZS5pZDsKICAgICAgdmFyIHNvdXJjZSA9IGVkZ2Uuc291cmNlOwogICAgICAvL1NrZXlz44Gu5pu05pawCiAgICAgIFNrZXlzID0gT2JqZWN0LmtleXMoZWRnZVNOdW0pOwogICAgICBpZiAodHlwZSA9PSAiYWRkIikgewogICAgICAgIGNvbnNvbGUubG9nKCJlZGdlU051beOBruabtOaWsCjov73liqApIik7CiAgICAgICAgaWYgKFNrZXlzLmluY2x1ZGVzKHNvdXJjZSkpIHsKICAgICAgICAgIGVkZ2VTTnVtW3NvdXJjZV0ucHVzaChlaWQpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdID0gW107CiAgICAgICAgICBlZGdlU051bVtzb3VyY2VdLnB1c2goZWlkKTsKICAgICAgICAgIFNrZXlzID0gT2JqZWN0LmtleXMoZWRnZVNOdW0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgY29uc29sZS5sb2coImVkZ2VTTnVt44Gu5pu05pawKOWJiumZpCkiKTsKICAgICAgICB2YXIgc2FtZUVkZ2VTTnVtID0gZWRnZVNOdW1bc291cmNlXTsKICAgICAgICBpZiAoc2FtZUVkZ2VTTnVtLmxlbmd0aCA+PSAyKSB7CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHNhbWVFZGdlU051bS5sZW5ndGg7IGorKykgewogICAgICAgICAgICBpZiAoc2FtZUVkZ2VTTnVtW2pdID09IGVpZCkgewogICAgICAgICAgICAgIGVkZ2VTTnVtW3NvdXJjZV0uc3BsaWNlKGosIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRlbGV0ZSBlZGdlU051bVtzb3VyY2VdOwogICAgICAgICAgU2tleXMgPSBPYmplY3Qua2V5cyhlZGdlU051bSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImNoYW5nZSIpIHsKICAgICAgICBjb25zb2xlLmxvZygiZWRnZVNOdW3jga7mm7TmlrAo5aSJ5pu0KSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfTsKICAgIC8v5a++6LGh44Oh44Kk44Kv44OO44O844OJ44Gu6L+95YqgL+WJiumZpOaZguOBrm1ha2VOb2RlTnVt44Gu5YCk44Go6KGo56S644Kk44Op44K544OI44Gu5pu05pawCiAgICBjb25zdCBjaGFuZ2VNYWtlTm9kZXMgPSBub2RlRGF0YSA9PiB7CiAgICAgIGlmIChub2RlRGF0YS50eXBlID09ICJhZGQiKSB7CiAgICAgICAgbWFrZU5vZGVOdW1bbm9kZURhdGEuaW1nTnVtXS5wdXNoKG5vZGVEYXRhLmlkKTsKICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS50eXBlID09ICJyZW1vdmUiKSB7CiAgICAgICAgdmFyIGxlbmd0aE51bSA9IG1ha2VOb2RlTnVtW25vZGVEYXRhLmltZ051bV07CiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBsZW5ndGhOdW0ubGVuZ3RoOyBuKyspIHsKICAgICAgICAgIGlmIChsZW5ndGhOdW1bbl0gPT0gbm9kZURhdGEuaWQpIHsKICAgICAgICAgICAgbWFrZU5vZGVOdW1bbm9kZURhdGEuaW1nTnVtXS5zcGxpY2UobiwgMSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy/jg6HjgqTjgq/jg47jg7zjg4njga7ov73liqAv5YmK6Zmk44Gr5Ly044GG6KGo56S644Kk44Op44K544OI44Gu5pu05pawCiAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgT2JqZWN0LmtleXMobWFrZU5vZGVOdW0pLmxlbmd0aDsgbCsrKSB7CiAgICAgICAgdmFyIHRlbXBMZW5ndGhOdW0gPSBtYWtlTm9kZU51bVtsXTsKICAgICAgICBpZiAodGVtcExlbmd0aE51bS5sZW5ndGggPj0gMSkgewogICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRNYWtlTm9kZUxpc3QiLCB7CiAgICAgICAgICAgIGltZ051bTogbCwKICAgICAgICAgICAgaW1nU3RhdGU6IHRydWUKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdG9yZS5jb21taXQoInNldE1ha2VOb2RlTGlzdCIsIHsKICAgICAgICAgICAgaW1nTnVtOiBsLAogICAgICAgICAgICBpbWdTdGF0ZTogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIC8vdHVybjLjgavnp7vjgovliY3jgavjg6HjgqTjgq/plovlp4vjg7vntYLkuobjg47jg7zjg4njgYzoqK3nva7jgZXjgozjgabjgYTjgovjgYvnorroqo3jgZnjgosKICAgIGNvbnN0IGNoZWNrT3V0cHV0ID0gKCkgPT4gewogICAgICB2YXIgaW5wdXROb2RlID0gZmFsc2U7CiAgICAgIHZhciBvdXRwdXROb2RlID0gZmFsc2U7CiAgICAgIGVsZW1lbnRzLnZhbHVlLmZvckVhY2goZWwgPT4gewogICAgICAgIGlmIChpc05vZGUoZWwpKSB7CiAgICAgICAgICBpZiAoZWwudHlwZSA9PSAiaW5wdXQiKSB7CiAgICAgICAgICAgIGlucHV0Tm9kZSA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgaWYgKGVsLnR5cGUgPT0gIm91dHB1dCIpIHsKICAgICAgICAgICAgb3V0cHV0Tm9kZSA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgc3RvcmUuY29tbWl0KCJzZXRJbk91dHB1dCIsIHsKICAgICAgICBpbnB1dDogaW5wdXROb2RlLAogICAgICAgIG91dHB1dDogb3V0cHV0Tm9kZQogICAgICB9KTsKICAgICAgaWYgKCFzdG9yZS5zdGF0ZS5pbnB1dE4gfHwgIXN0b3JlLnN0YXRlLm91dHB1dE4pIHsKICAgICAgICBhbGVydCgi44Oh44Kk44Kv6ZaL5aeL44O757WC5LqG44OO44O844OJ44KS6Kit572u44GX44Gm44GP44Gg44GV44GE77yOIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9OwoKICAgIC8qIOODjuODvOODieOBruWkieabtOaZguOBq+eZuueBq+OBmeOCi+mWouaVsCAqLwogICAgb25Ob2Rlc0NoYW5nZShwYXJhbXMgPT4gewogICAgICAvL3R5cGU6IGRpbWVuc2lvbnMo6YWN572u77yfL+OCteOCpOOCuuaDheWgsSksIHNlbGVjdCwgYWRkLCByZW1vdmUKICAgICAgLy9wYXJhbXMgYWRkOlt0eXBlLCBpdGVte31dIHJlbW92ZTpbdHlwZSwgaWRdIHNlbGVjdDpbdHlwZSwgaWQsIHNlbGVjdGVkXQogICAgICBmb3IgKHZhciBxID0gMDsgcSA8IHBhcmFtcy5sZW5ndGg7IHErKykgewogICAgICAgIGlmIChwYXJhbXNbcV0udHlwZSA9PSAiYWRkIikgewogICAgICAgICAgY29uc29sZS5sb2coIuODjuODvOODieOBrui/veWKoCIpOwogICAgICAgICAgLy/jg6HjgqTjgq/jg47jg7zjg4njgaDjgaPjgZ/jgokKICAgICAgICAgIGlmIChwYXJhbXNbcV0uaXRlbS50eXBlID09ICJjdXN0b21NYWtlIikgewogICAgICAgICAgICB2YXIgbm9kZWl0ZW1zID0gcGFyYW1zW3FdLml0ZW07CiAgICAgICAgICAgIHZhciBub2RlRGF0YSA9IG5vZGVpdGVtcy5kYXRhOwogICAgICAgICAgICAvL+WMlueyp+W3peeoi+OBruWIpOWumgogICAgICAgICAgICBpZiAobm9kZURhdGEucGFydE51bSA9PSAxICYmIG5vZGVEYXRhLml0ZW1OdW0gPT0gOCkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDAsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDEgJiYgbm9kZURhdGEuaXRlbU51bSA9PSA4ICYmIG5vZGVEYXRhLnR5cGVOdW0gPT0gMikgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDEsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDIgJiYgbm9kZURhdGEuaXRlbU51bSA9PSAxMSkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDIsCiAgICAgICAgICAgICAgICBpZDogbm9kZWl0ZW1zLmlkLAogICAgICAgICAgICAgICAgdHlwZTogImFkZCIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChub2RlRGF0YS5wYXJ0TnVtID09IDIgJiYgMTMgPD0gbm9kZURhdGEuaXRlbU51bSAmJiBub2RlRGF0YS5pdGVtTnVtIDw9IDE2KSB7CiAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgIGltZ051bTogMywKICAgICAgICAgICAgICAgIGlkOiBub2RlaXRlbXMuaWQsCiAgICAgICAgICAgICAgICB0eXBlOiAiYWRkIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGVEYXRhLnBhcnROdW0gPT0gMiAmJiAxNyA8PSBub2RlRGF0YS5pdGVtTnVtICYmIG5vZGVEYXRhLml0ZW1OdW0gPD0gMjApIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA0LAogICAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZURhdGEucGFydE51bSA9PSA0ICYmIG5vZGVEYXRhLml0ZW1OdW0gPT0gMjQpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA1LAogICAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZURhdGEucGFydE51bSA9PSA0ICYmIG5vZGVEYXRhLml0ZW1OdW0gPT0gMjUpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA2LAogICAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZURhdGEucGFydE51bSA9PSAwICYmIG5vZGVEYXRhLml0ZW1OdW0gPT0gMjIpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA3LAogICAgICAgICAgICAgICAgaWQ6IG5vZGVpdGVtcy5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJhZGQiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbcV0udHlwZSA9PSAicmVtb3ZlIikgewogICAgICAgICAgY29uc29sZS5sb2coIuODjuODvOODieOBruWJiumZpCIpOwogICAgICAgICAgaWYgKHBhcmFtc1txXS5pZC5pbmRleE9mKCdtYWtlJykgPiAtMSkgewogICAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBoOOBo+OBn+OCiQogICAgICAgICAgICBjb25zdCBybm9kZSA9IGdldE5vZGUudmFsdWUocGFyYW1zW3FdLmlkKTsKICAgICAgICAgICAgY29uc3QgcmRhdGEgPSBybm9kZS5kYXRhOwogICAgICAgICAgICBpZiAocmRhdGEucGFydE51bSA9PSAxICYmIHJkYXRhLml0ZW1OdW0gPT0gOCkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDAsCiAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZGF0YS5wYXJ0TnVtID09IDEgJiYgcmRhdGEuaXRlbU51bSA9PSA4ICYmIHJkYXRhLnR5cGVOdW0gPT0gMikgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDEsCiAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZGF0YS5wYXJ0TnVtID09IDIgJiYgcmRhdGEuaXRlbU51bSA9PSAxMSkgewogICAgICAgICAgICAgIGNoYW5nZU1ha2VOb2Rlcyh7CiAgICAgICAgICAgICAgICBpbWdOdW06IDIsCiAgICAgICAgICAgICAgICBpZDogcGFyYW1zW3FdLmlkLAogICAgICAgICAgICAgICAgdHlwZTogInJlbW92ZSIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChyZGF0YS5wYXJ0TnVtID09IDIgJiYgMTMgPD0gcmRhdGEuaXRlbU51bSAmJiByZGF0YS5pdGVtTnVtIDw9IDE2KSB7CiAgICAgICAgICAgICAgY2hhbmdlTWFrZU5vZGVzKHsKICAgICAgICAgICAgICAgIGltZ051bTogMywKICAgICAgICAgICAgICAgIGlkOiBwYXJhbXNbcV0uaWQsCiAgICAgICAgICAgICAgICB0eXBlOiAicmVtb3ZlIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKHJkYXRhLnBhcnROdW0gPT0gMiAmJiAxNyA8PSByZGF0YS5pdGVtTnVtICYmIHJkYXRhLml0ZW1OdW0gPD0gMjApIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA0LAogICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmRhdGEucGFydE51bSA9PSA0ICYmIHJkYXRhLml0ZW1OdW0gPT0gMjQpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA1LAogICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmRhdGEucGFydE51bSA9PSA0ICYmIHJkYXRhLml0ZW1OdW0gPT0gMjUpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA2LAogICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAocmRhdGEucGFydE51bSA9PSAwICYmIHJkYXRhLml0ZW1OdW0gPT0gMjIpIHsKICAgICAgICAgICAgICBjaGFuZ2VNYWtlTm9kZXMoewogICAgICAgICAgICAgICAgaW1nTnVtOiA3LAogICAgICAgICAgICAgICAgaWQ6IHBhcmFtc1txXS5pZCwKICAgICAgICAgICAgICAgIHR5cGU6ICJyZW1vdmUiCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbcV0udHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgdmFyIHNub2RlOwogICAgICAgICAgaWYgKHBhcmFtc1txXS5pZC5pbmRleE9mKCdtYWtlJykgPiAtMSB8fCBwYXJhbXNbcV0uaWQuaW5kZXhPZignYnJhbmNoJykgPiAtMSkgewogICAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBi+ODluODqeODs+ODgeODjuODvOODieOBoOOBo+OBn+OCiQogICAgICAgICAgICBzbm9kZSA9IGdldE5vZGUudmFsdWUocGFyYW1zW3FdLmlkKTsKICAgICAgICAgICAgaWYgKHBhcmFtc1txXS5zZWxlY3RlZCkgewogICAgICAgICAgICAgIHNub2RlLnN0eWxlWyItLXZmLW5vZGUtY29sb3IiXSA9ICcjM2NiMzcxJzsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBzbm9kZS5zdHlsZVsiLS12Zi1ub2RlLWNvbG9yIl0gPSAnYmxhY2snOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUudHVybiA9PSAyKSB7CiAgICAgICAgICAgIGlmIChwYXJhbXNbcV0uaWQuaW5kZXhPZignbWFrZScpID4gLTEpIHsKICAgICAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBoOOBo+OBn+OCiQogICAgICAgICAgICAgIGlmIChwYXJhbXNbcV0uc2VsZWN0ZWQpIHsKICAgICAgICAgICAgICAgIGlmICghc25vZGUuZGF0YVsic2tpcCJdKSB7CiAgICAgICAgICAgICAgICAgIC8vc2tpcOOBjGZhbHNl44Gg44Gj44Gf44KJCiAgICAgICAgICAgICAgICAgIHNub2RlLnN0eWxlWyItLXZmLW5vZGUtdGV4dCJdID0gJyNmZjhjMDAnOwogICAgICAgICAgICAgICAgICBzbm9kZS5kYXRhWyJza2lwIl0gPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy9za2lw44GMdHJ1ZeOBoOOBo+OBn+OCiQogICAgICAgICAgICAgICAgICBzbm9kZS5zdHlsZVsiLS12Zi1ub2RlLXRleHQiXSA9ICdibGFjayc7CiAgICAgICAgICAgICAgICAgIHNub2RlLmRhdGFbInNraXAiXSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIGlmIChzdG9yZS5zdGF0ZS50dXJuID09IDMpIHsKICAgICAgICAgICAgaWYgKHBhcmFtc1txXS5pZC5pbmRleE9mKCdtYWtlJykgPiAtMSkgewogICAgICAgICAgICAgIC8v44Oh44Kk44Kv44OO44O844OJ44Gg44Gj44Gf44KJCiAgICAgICAgICAgICAgaWYgKHBhcmFtc1txXS5zZWxlY3RlZCkgewogICAgICAgICAgICAgICAgaWYgKCFzbm9kZS5kYXRhWyJmb3JnZXQiXSkgewogICAgICAgICAgICAgICAgICAvL2ZvcmdldOOBjGZhbHNl44Gg44Gj44Gf44KJCiAgICAgICAgICAgICAgICAgIHNub2RlLnN0eWxlWyItLXZmLW5vZGUtYmciXSA9ICJwaW5rIjsKICAgICAgICAgICAgICAgICAgc25vZGUuZGF0YVsiZm9yZ2V0Il0gPSB0cnVlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgLy9mb3JnZXTjgYx0cnVl44Gg44Gj44Gf44KJCiAgICAgICAgICAgICAgICAgIHNub2RlLnN0eWxlWyItLXZmLW5vZGUtYmciXSA9ICJ3aGl0ZSI7CiAgICAgICAgICAgICAgICAgIHNub2RlLmRhdGFbImZvcmdldCJdID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgLyog44Ko44OD44K444Gu5aSJ5pu05pmC44Gr55m654Gr44GZ44KL6Zai5pWwICovCiAgICBvbkVkZ2VzQ2hhbmdlKHBhcmFtcyA9PiB7CiAgICAgIHZhciBOdW1PZlNhbWVTb3VyY2VzOwogICAgICAvL3BhcmFtcyBhZGQ6W3R5cGUsIGl0ZW17fV0gIHJlbW92ZTpbdHlwZSwgaWRdICBzZWxlY3Q6W3R5cGUsIGlkLCBzZWxlY3RlZF0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAocGFyYW1zW2ldLnR5cGUgPT0gImFkZCIpIHsKICAgICAgICAgIHZhciBlZGdlSXRlbSA9IHBhcmFtc1tpXS5pdGVtOwogICAgICAgICAgLy9lZGdlU051beOBq+aWsOOBl+OBhOOCqOODg+OCuOOCkui/veWKoOOBmeOCiwogICAgICAgICAgU2tleXMgPSBPYmplY3Qua2V5cyhlZGdlU051bSk7IC8v5pyA5paw54mI44Gr5pu05pawCiAgICAgICAgICBpZiAoU2tleXMuaW5jbHVkZXMoZWRnZUl0ZW0uc291cmNlKSkgewogICAgICAgICAgICBlZGdlU051bVtlZGdlSXRlbS5zb3VyY2VdLnB1c2goZWRnZUl0ZW0uaWQpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWRnZVNOdW1bZWRnZUl0ZW0uc291cmNlXSA9IFtdOwogICAgICAgICAgICBlZGdlU051bVtlZGdlSXRlbS5zb3VyY2VdLnB1c2goZWRnZUl0ZW0uaWQpOwogICAgICAgICAgICBTa2V5cyA9IE9iamVjdC5rZXlzKGVkZ2VTTnVtKTsKICAgICAgICAgIH0KICAgICAgICAgIC8v6L+95Yqg44GZ44KL44Ko44OD44K444Go5ZCM44GYc291cmNl44Gu44Ko44OD44K444GM5L2V5pys44GC44KL44GL6Kq/44G544KLCiAgICAgICAgICBOdW1PZlNhbWVTb3VyY2VzID0gc3VydmV5U2FtZVNvdXJjZShlZGdlSXRlbS5zb3VyY2UpOwogICAgICAgICAgLy/jgqjjg4PjgrjjgYznj77nirbjgacx5pys5Lul5LiK44GC44Gj44Gf44KJ44Ko44OD44K444KSc21vb3Roc3RlcOOBq+WIh+OCiuabv+OBiOOCiwogICAgICAgICAgaWYgKE51bU9mU2FtZVNvdXJjZXMgPj0gMSkgewogICAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgICBpZiAoaXNFZGdlKGVsKSAmJiBlbC5zb3VyY2UgPT0gZWRnZUl0ZW0uc291cmNlKSB7CiAgICAgICAgICAgICAgICBlbC50eXBlID0gJ3Ntb290aHN0ZXAnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbaV0udHlwZSA9PSAicmVtb3ZlIikgewogICAgICAgICAgdmFyIHNvdXJjZTsKICAgICAgICAgIHZhciBlZGdlRGF0YTsKICAgICAgICAgIC8v5raI44GZ44Ko44OD44K444Go5ZCM44GYc291cmNl44Gu44Ko44OD44K444GM5L2V5pys44GC44KL44GL6Kq/44G544KLCiAgICAgICAgICBlbGVtZW50cy52YWx1ZS5mb3JFYWNoKGVsID0+IHsKICAgICAgICAgICAgaWYgKGVsLmlkID09IHBhcmFtc1tpXS5pZCkgewogICAgICAgICAgICAgIGVkZ2VEYXRhID0gZWw7CiAgICAgICAgICAgICAgc291cmNlID0gZWwuc291cmNlOwogICAgICAgICAgICAgIE51bU9mU2FtZVNvdXJjZXMgPSBzdXJ2ZXlTYW1lU291cmNlKHNvdXJjZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgLy/jgqjjg4PjgrjjgYznj77nirbjgacy5pys5Lul5LiL44Gg44Gj44Gf44KJ44Ko44OD44K444KSc3RyYWlnaHTjgavliIfjgormm7/jgYjjgosKICAgICAgICAgIGlmIChOdW1PZlNhbWVTb3VyY2VzID09IDIpIHsKICAgICAgICAgICAgZWxlbWVudHMudmFsdWUuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgICAgICAgaWYgKGlzRWRnZShlbCkgJiYgZWwuc291cmNlID09IHNvdXJjZSkgewogICAgICAgICAgICAgICAgZWwudHlwZSA9ICdzdHJhaWdodCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIC8vZWRnZUxpc3Tjga7nirbmhYvlpInmm7QKICAgICAgICAgIGNoYW5nZUVkZ2VzKGVkZ2VEYXRhLCAicmVtb3ZlIik7CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXNbaV0udHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgdmFyIHNlZGdlID0gZ2V0RWRnZS52YWx1ZShwYXJhbXNbaV0uaWQpOwogICAgICAgICAgaWYgKHBhcmFtc1tpXS5zZWxlY3RlZCkgewogICAgICAgICAgICBzZWRnZS5hbmltYXRlZCA9IHRydWU7CiAgICAgICAgICAgIC8vdHVybjLjgaDjgaPjgZ/jgonjg6njg5njg6voqK3lrprnlKjjgatpZOOCkuS/neWtmOOBmeOCiwogICAgICAgICAgICBpZiAoc3RvcmUuc3RhdGUudHVybiA9PSAyKSB7CiAgICAgICAgICAgICAgc3RvcmUuY29tbWl0KCJzZXRFZGdlSWQiLCBwYXJhbXNbaV0uaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBzZWRnZS5hbmltYXRlZCA9IGZhbHNlOwogICAgICAgICAgICAvL3R1cm4y44Gg44Gj44Gf44KJ44Op44OZ44Or6Kit5a6a55So44GraWTjgpLkv53lrZjjgZnjgosKICAgICAgICAgICAgaWYgKHN0b3JlLnN0YXRlLnR1cm4gPT0gMikgewogICAgICAgICAgICAgIHN0b3JlLmNvbW1pdCgic2V0RWRnZUlkIiwgIiIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogICAgLyog44Ko44OD44K444Gu6L+95Yqg5pmC44Gr55m654Gr44GZ44KL6Zai5pWwIG9uQ29ubmVjdC0+b25FZGdlc0NoYW5nZSAqLwogICAgb25Db25uZWN0KHBhcmFtcyA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCLjgqjjg4Pjgrjjga7ov73liqAiKTsKICAgICAgLy9wYXJhbXM6W3NvdXJjZSwgc291cmNlSGFuZGxlLCB0YXJnZXQsIHRhcmdldEhhbmRsZV0KCiAgICAgIC8v5ZCM44GY44K944O844K544Gu44Ko44OD44K444Gu5pys5pWw44KS5Y+W5b6X44GZ44KLCiAgICAgIHZhciBOdW1PZkVkZ2U7CiAgICAgIFNrZXlzID0gT2JqZWN0LmtleXMoZWRnZVNOdW0pOwogICAgICBpZiAoU2tleXMuaW5jbHVkZXMocGFyYW1zLnNvdXJjZSkpIHsKICAgICAgICBOdW1PZkVkZ2UgPSBzdXJ2ZXlTYW1lU291cmNlKHBhcmFtcy5zb3VyY2UpICsgMTsKICAgICAgfSBlbHNlIHsKICAgICAgICBOdW1PZkVkZ2UgPSAxOwogICAgICB9CgogICAgICAvL+aWsOOBl+OBhOOCqOODg+OCuOOBrui/veWKoAogICAgICB2YXIgbmV3RWRnZTsKICAgICAgY29uc3QgZ2V0RWRnZUlkID0gKCkgPT4gYGUke3BhcmFtcy5zb3VyY2V9XyR7cGFyYW1zLnRhcmdldH1gOwogICAgICBpZiAoTnVtT2ZFZGdlIDwgMykgewogICAgICAgIGlmIChwYXJhbXMuc291cmNlLmluZGV4T2YoJ21ha2UnKSA+IC0xKSB7CiAgICAgICAgICAvL2N1c3RvbU1ha2XjgaDjgaPjgZ/jgokKICAgICAgICAgIGlmIChOdW1PZkVkZ2UgPCAyKSB7CiAgICAgICAgICAgIG5ld0VkZ2UgPSB7CiAgICAgICAgICAgICAgaWQ6IGdldEVkZ2VJZCgpLAogICAgICAgICAgICAgIHNvdXJjZTogcGFyYW1zLnNvdXJjZSwKICAgICAgICAgICAgICB0YXJnZXQ6IHBhcmFtcy50YXJnZXQsCiAgICAgICAgICAgICAgdHlwZTogJ3N0cmFpZ2h0JywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBtYXJrZXJFbmQ6IE1hcmtlclR5cGUuQXJyb3dDbG9zZWQsCiAgICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBp+OBr+OCqOODg+OCuOOCkjHmnKzjgZfjgYvnlJ/jgoTjgZvjgarjgYQKICAgICAgICAgICAgYWxlcnQoIjHjgaTjga7ljJbnsqfjg47jg7zjg4njgYvjgonlh7rjgZvjgovnn6LljbDjga8x5pys44Gg44GR44Gn44GZLui/veWKoOOBp+WIhuWykOOBleOBm+OBn+OBhOWgtOWQiOOBr+WIhuWykOODjuODvOODieOCkue5i+OBkuOBpuOBj+OBoOOBleOBhCIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuc291cmNlLmluZGV4T2YoJ2JyYW5jaCcpID4gLTEpIHsKICAgICAgICAgIC8vY3VzdG9tQnJhbmNo44Gg44Gj44Gf44KJCiAgICAgICAgICB2YXIgYWRkRWRnZUxhYmVsOwogICAgICAgICAgdmFyIGFkZEVkZ2VDb2xvcjsKICAgICAgICAgIHZhciBhZGRFZGdlVHlwZTsKICAgICAgICAgIGlmIChwYXJhbXMuc291cmNlLmluZGV4T2YoJ212YnJhbmNoJykgPiAtMSkgewogICAgICAgICAgICAvL+OChOOCi+awl+ODjuODvOODiQogICAgICAgICAgICBhZGRFZGdlTGFiZWwgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAn44Gq44GXJyA6ICfjgYLjgoonOwogICAgICAgICAgICBhZGRFZGdlQ29sb3IgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAnYmx1ZScgOiAncmVkJzsKICAgICAgICAgICAgYWRkRWRnZVR5cGUgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAnbm8nIDogJ21heCc7CiAgICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcy5zb3VyY2UuaW5kZXhPZignc2JyYW5jaCcpID4gLTEpIHsKICAgICAgICAgICAgLy/lraPnr4Djg47jg7zjg4kKICAgICAgICAgICAgYWRkRWRnZUxhYmVsID0gTnVtT2ZFZGdlICUgMiA9PSAwID8gJ+WGrCcgOiAn5aSPJzsKICAgICAgICAgICAgYWRkRWRnZUNvbG9yID0gTnVtT2ZFZGdlICUgMiA9PSAwID8gJ2dyYXknIDogJ2JsdWUnOwogICAgICAgICAgICBhZGRFZGdlVHlwZSA9IE51bU9mRWRnZSAlIDIgPT0gMCA/ICd3aW50ZXInIDogJ3N1bW1lcic7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL+aZgumWk+ODjuODvOODiQogICAgICAgICAgICBhZGRFZGdlTGFiZWwgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAn55+t44GEJyA6ICfplbfjgYQnOwogICAgICAgICAgICBhZGRFZGdlQ29sb3IgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAnYmx1ZScgOiAncmVkJzsKICAgICAgICAgICAgYWRkRWRnZVR5cGUgPSBOdW1PZkVkZ2UgJSAyID09IDAgPyAnc2hvcnQnIDogJ2xvbmcnOwogICAgICAgICAgfQogICAgICAgICAgbmV3RWRnZSA9IHsKICAgICAgICAgICAgaWQ6IGdldEVkZ2VJZCgpLAogICAgICAgICAgICBzb3VyY2U6IHBhcmFtcy5zb3VyY2UsCiAgICAgICAgICAgIHRhcmdldDogcGFyYW1zLnRhcmdldCwKICAgICAgICAgICAgdHlwZTogTnVtT2ZFZGdlID4gMSA/ICdzbW9vdGhzdGVwJyA6ICdzdHJhaWdodCcsCiAgICAgICAgICAgIGxhYmVsOiBhZGRFZGdlTGFiZWwsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgc3Ryb2tlOiBhZGRFZGdlQ29sb3IKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxTdHlsZTogewogICAgICAgICAgICAgIGZpbGw6ICd3aGl0ZScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgbGFiZWxCZ1N0eWxlOiB7CiAgICAgICAgICAgICAgZmlsbDogYWRkRWRnZUNvbG9yCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG1hcmtlckVuZDogTWFya2VyVHlwZS5BcnJvd0Nsb3NlZCwKICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlLAogICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgdHlwZTogYWRkRWRnZVR5cGUKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy9pbnB1dC9vdXRwdXTjgaDjgaPjgZ/jgokKICAgICAgICAgIGlmIChOdW1PZkVkZ2UgPCAyKSB7CiAgICAgICAgICAgIG5ld0VkZ2UgPSB7CiAgICAgICAgICAgICAgaWQ6IGdldEVkZ2VJZCgpLAogICAgICAgICAgICAgIHNvdXJjZTogcGFyYW1zLnNvdXJjZSwKICAgICAgICAgICAgICB0YXJnZXQ6IHBhcmFtcy50YXJnZXQsCiAgICAgICAgICAgICAgdHlwZTogJ3N0cmFpZ2h0JywKICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgc3Ryb2tlOiAnYmxhY2snCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBtYXJrZXJFbmQ6IE1hcmtlclR5cGUuQXJyb3dDbG9zZWQsCiAgICAgICAgICAgICAgYW5pbWF0ZWQ6IGZhbHNlCiAgICAgICAgICAgIH07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAvL+ODoeOCpOOCr+ODjuODvOODieOBp+OBr+OCqOODg+OCuOOCkjHmnKzjgZfjgYvnlJ/jgoTjgZvjgarjgYQKICAgICAgICAgICAgYWxlcnQoIjHjgaTjga7jg6HjgqTjgq/plovlp4sv57WC5LqG44OO44O844OJ44GL44KJ5Ye644Gb44KL55+i5Y2w44GvMeacrOOBoOOBkeOBp+OBmS7ov73liqDjgafliIblspDjgZXjgZvjgZ/jgYTloLTlkIjjga/liIblspDjg47jg7zjg4njgpLnuYvjgZLjgabjgY/jgaDjgZXjgYQiKTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICAvL+aWsOOBl+OBj+i2s+OBmeOCqOODg+OCuOOBjDPmnKznm67jgaDjgaPjgZ/jgonov73liqDjgZXjgZvjgarjgYQKICAgICAgICBhbGVydCgiMeOBpOOBruODjuODvOODieOBi+OCieWHuuOBm+OCi+efouWNsOOBrzLmnKzjgb7jgafjgafjgZku6L+95Yqg44Gn5YiG5bKQ44GV44Gb44Gf44GE5aC05ZCI44Gv5YiG5bKQ44OO44O844OJ44KS57mL44GS44Gm44GP44Gg44GV44GEIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGFkZEVkZ2VzKFtuZXdFZGdlXSk7CiAgICB9KTsKCiAgICAvKiDjg57jgqbjgrnmk43kvZzjgavntZDjgbPjgaTjgZHjgZ/plqLmlbAgKi8KICAgIC8v44OO44O844OJ44Gu44OJ44Op44OD44Kw5pON5L2cCiAgICBjb25zdCBvbkRyYWdPdmVyID0gZXZlbnQgPT4gewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAoZXZlbnQuZGF0YVRyYW5zZmVyKSB7CiAgICAgICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnbW92ZSc7CiAgICAgIH0KICAgIH07CiAgICAvL+ODjuODvOODieOBruODieODreODg+ODl+OBq+OCiOOCi++8jOaWsOimj+ODjuODvOODieOBrui/veWKoAogICAgbGV0IGlkID0gMDsKICAgIGNvbnN0IHNzX2dldElkID0gKCkgPT4gYHNzXyR7aWQrK31gOwogICAgY29uc3QgbV9nZXRJZCA9ICgpID0+IGBtYWtlXyR7aWQrK31gOwogICAgY29uc3QgbXZfZ2V0SWQgPSAoKSA9PiBgbXZicmFuY2hfJHtpZCsrfWA7CiAgICBjb25zdCBzX2dldElkID0gKCkgPT4gYHNicmFuY2hfJHtpZCsrfWA7CiAgICBjb25zdCB0X2dldElkID0gKCkgPT4gYHRicmFuY2hfJHtpZCsrfWA7CiAgICBjb25zdCBvbkRyb3AgPSBldmVudCA9PiB7CiAgICAgIHZhciBfZXZlbnQkZGF0YVRyYW5zZmVyOwogICAgICBjb25zdCB0eXBlID0gKF9ldmVudCRkYXRhVHJhbnNmZXIgPSBldmVudC5kYXRhVHJhbnNmZXIpID09PSBudWxsIHx8IF9ldmVudCRkYXRhVHJhbnNmZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ldmVudCRkYXRhVHJhbnNmZXIuZ2V0RGF0YSgnYXBwbGljYXRpb24vdnVlZmxvdycpOwogICAgICBjb25zdCBwb3NpdGlvbiA9IHByb2plY3QoewogICAgICAgIHg6IGV2ZW50LmNsaWVudFggLSA0MDAsCiAgICAgICAgeTogZXZlbnQuY2xpZW50WSAtIDE1MAogICAgICB9KTsKICAgICAgdmFyIG5ld05vZGU7CiAgICAgIGlmICh0eXBlID09ICdpbnB1dCcgfHwgdHlwZSA9PSAnb3V0cHV0JykgewogICAgICAgIC8v6ZaL5aeL44OO44O844OJ44GL57WC5LqG44OO44O844OJCiAgICAgICAgbmV3Tm9kZSA9IHsKICAgICAgICAgIGlkOiBzc19nZXRJZCgpLAogICAgICAgICAgdHlwZSwKICAgICAgICAgIHBvc2l0aW9uLAogICAgICAgICAgbGFiZWw6IHR5cGUgPT0gJ2lucHV0JyA/ICfjg6HjgqTjgq/plovlp4snIDogJ+ODoeOCpOOCr+e1guS6hicKICAgICAgICB9OwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2N1c3RvbU1ha2UnKSB7CiAgICAgICAgLy/jg6HjgqTjgq/jg47jg7zjg4kKICAgICAgICBuZXdOb2RlID0gewogICAgICAgICAgaWQ6IG1fZ2V0SWQoKSwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgIGxhYmVsOiBzdG9yZS5zdGF0ZS5pdGVtTmFtZS5sZW5ndGggPj0gNyA/IHN0b3JlLnN0YXRlLml0ZW1OYW1lICsgJ1xuKCcgKyBzdG9yZS5zdGF0ZS50eXBlTmFtZSArICcpJyA6IHN0b3JlLnN0YXRlLml0ZW1OYW1lICsgJygnICsgc3RvcmUuc3RhdGUudHlwZU5hbWUgKyAnKScsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAiLS12Zi1ub2RlLWNvbG9yIjogJ2JsYWNrJwogICAgICAgICAgfSwKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgcGFydE5hbWU6IHN0b3JlLnN0YXRlLnBhcnROYW1lLAogICAgICAgICAgICBwYXJ0TnVtOiBzdG9yZS5zdGF0ZS5wYXJ0TnVtLAogICAgICAgICAgICBpdGVtTmFtZTogc3RvcmUuc3RhdGUuaXRlbU5hbWUsCiAgICAgICAgICAgIGl0ZW1OdW06IHN0b3JlLnN0YXRlLml0ZW1OdW0sCiAgICAgICAgICAgIHR5cGVOYW1lOiBzdG9yZS5zdGF0ZS50eXBlTmFtZSwKICAgICAgICAgICAgdHlwZU51bTogc3RvcmUuc3RhdGUudHlwZU51bSwKICAgICAgICAgICAgc2tpcDogZmFsc2UsCiAgICAgICAgICAgIGZvcmdldDogZmFsc2UKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIC8v5YiG5bKQ44OO44O844OJCiAgICAgICAgdmFyIG5vZGVMYWJlbDsKICAgICAgICB2YXIgbm9kZUlkOwogICAgICAgIGlmICh0eXBlID09ICdjdXN0b21Nb3RpdmF0aW9uJykgewogICAgICAgICAgbm9kZUxhYmVsID0gJ+awl+WQiOOBhCc7CiAgICAgICAgICBub2RlSWQgPSBtdl9nZXRJZCgpOwogICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnY3VzdG9tU2Vhc29uJykgewogICAgICAgICAgbm9kZUxhYmVsID0gJ+Wto+evgCc7CiAgICAgICAgICBub2RlSWQgPSBzX2dldElkKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIG5vZGVMYWJlbCA9ICflpJblh7rmmYLplpMnOwogICAgICAgICAgbm9kZUlkID0gdF9nZXRJZCgpOwogICAgICAgIH0KICAgICAgICBuZXdOb2RlID0gewogICAgICAgICAgaWQ6IG5vZGVJZCwKICAgICAgICAgIHR5cGUsCiAgICAgICAgICBwb3NpdGlvbiwKICAgICAgICAgIGxhYmVsOiBub2RlTGFiZWwsCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAiLS12Zi1ub2RlLWNvbG9yIjogJ2JsYWNrJwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgICAgYWRkTm9kZXMoW25ld05vZGVdKTsKICAgIH07CiAgICBjb25zdCBzdWJtaXRGbG93Y2hhcnQgPSAoKSA9PiB7CiAgICAgIGNvbnNvbGUubG9nKCLjg4fjg7zjgr/jga5teXNxbOOBuOOBrumAgeS/oSblrp/pqJPntYLkuoYiKTsKICAgICAgY29uc3QgcGFyYW1zMiA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgcGFyYW1zMi5hcHBlbmQoJ3VzZXJJZCcsIHN0b3JlLnN0YXRlLnVzZXJJZCk7CiAgICAgIHBhcmFtczIuYXBwZW5kKCd1c2VyTmFtZScsIHN0b3JlLnN0YXRlLnVzZXJOYW1lKTsKICAgICAgcGFyYW1zMi5hcHBlbmQoJ2Zsb3djaGFydCcsIEpTT04uc3RyaW5naWZ5KHRvT2JqZWN0KCkpKTsKICAgICAgYXhpb3MucG9zdCgnaHR0cHM6Ly90YWthbm8ubmttci5pby9mbG93Y2hhcnRfcG9zdC5waHAnLCBwYXJhbXMyKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvL+S4iuaJi+OBj+ihjOOBo+OBn+aZggogICAgICAgIGNvbnNvbGUubG9nKCdzdGF0dXM6JywgcmVzcG9uc2Uuc3RhdHVzKTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIC8v5aSx5pWX44GX44Gf5pmCCiAgICAgICAgY29uc29sZS5sb2coJ2VycjonLCBlcnJvcik7CiAgICAgIH0pOwogICAgICAvL+ODleODreODvOODgeODo+ODvOODiOODh+ODvOOCv+OBruODgOOCpuODs+ODreODvOODiQogICAgICBjb25zdCBmaWxlTmFtZTIgPSBzdG9yZS5zdGF0ZS51c2VyTmFtZSArICIuanNvbiI7CiAgICAgIGNvbnN0IGZsb3dEYXRhMiA9IEpTT04uc3RyaW5naWZ5KHRvT2JqZWN0KCkpOwogICAgICBjb25zdCBsaW5rMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgbGluazIuaHJlZiA9ICJkYXRhOnRleHQvcGxhaW4sIiArIGVuY29kZVVSSUNvbXBvbmVudChmbG93RGF0YTIpOwogICAgICBsaW5rMi5kb3dubG9hZCA9IGZpbGVOYW1lMjsKICAgICAgbGluazIuY2xpY2soKTsKICAgICAgLy/jg5Xjg63jg7zjg4Hjg6Pjg7zjg4jnlLvlg4/jga7jg4Djgqbjg7Pjg63jg7zjg4kKICAgICAgLyoKICAgICAgaHRtbFRvSW1hZ2UudG9TdmcoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnZ1ZS1mbG93X19jb250YWluZXInKSkKICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGFVcmwyKSB7CiAgICAgICAgLy8g56eB44Gu5aC05ZCI44Gv44OA44Km44Oz44Ot44O844OJ5Yem55CG44KS5a6f6KGMCiAgICAgICAgY29uc3QgYTIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJykKICAgICAgICBhMi5kb3dubG9hZCA9IHN0b3JlLnN0YXRlLnVzZXJOYW1lKycuc3ZnJwogICAgICAgIGEyLmhyZWYgPSBkYXRhVXJsMgogICAgICAgIGEyLmNsaWNrKCkKICAgICAgfSkKICAgICAgKi8KICAgICAgLy/lrp/pqJPntYLkuobnlLvpnaLjgbjnp7vli5UKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgcm91dGVyLnB1c2goJy9maW5pc2gnKTsKICAgICAgfSwgMTAwMCk7CiAgICB9OwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBvblBhbmVSZWFkeSwKICAgICAgb25Db25uZWN0LAogICAgICBvbkVkZ2VzQ2hhbmdlLAogICAgICBvbk5vZGVzQ2hhbmdlLAogICAgICBhZGRFZGdlcywKICAgICAgYWRkTm9kZXMsCiAgICAgIHRvT2JqZWN0LAogICAgICBwcm9qZWN0LAogICAgICBnZXROb2RlLAogICAgICBnZXRFZGdlLAogICAgICBlbGVtZW50cywKICAgICAgbm9kZVR5cGVzLAogICAgICBzdG9yZSwKICAgICAgcm91dGVyLAogICAgICBTa2V5cywKICAgICAgZWRnZVNOdW0sCiAgICAgIG1ha2VOb2RlTnVtLAogICAgICBvcHRpb25zLAogICAgICB2dWVDb250ZXh0TWVudSwKICAgICAgaGFuZGxlQ2xpY2ssCiAgICAgIHNlbGVjdE1lbnUsCiAgICAgIG9wdGlvbkNsaWNrZWQsCiAgICAgIG9uTG9hZCwKICAgICAgc3VydmV5U2FtZVNvdXJjZSwKICAgICAgY2hhbmdlRWRnZXMsCiAgICAgIGNoYW5nZU1ha2VOb2RlcywKICAgICAgY2hlY2tPdXRwdXQsCiAgICAgIG9uRHJhZ092ZXIsCiAgICAgIGlkLAogICAgICBzc19nZXRJZCwKICAgICAgbV9nZXRJZCwKICAgICAgbXZfZ2V0SWQsCiAgICAgIHNfZ2V0SWQsCiAgICAgIHRfZ2V0SWQsCiAgICAgIG9uRHJvcCwKICAgICAgc3VibWl0Rmxvd2NoYXJ0LAogICAgICBCYWNrZ3JvdW5kLAogICAgICBDb250cm9scywKICAgICAgTWluaU1hcCwKICAgICAgVnVlRmxvdywKICAgICAgaXNOb2RlLAogICAgICBpc0VkZ2UsCiAgICAgIE1hcmtlclR5cGUsCiAgICAgIENvbm5lY3Rpb25Nb2RlLAogICAgICB1c2VWdWVGbG93LAogICAgICBtYXJrUmF3LAogICAgICByZWYsCiAgICAgIHVzZVN0b3JlLAogICAgICB1c2VSb3V0ZXIsCiAgICAgIGluaXRpYWxFbGVtZW50cywKICAgICAgTWFrZU5vZGUsCiAgICAgIE1vdGl2YXRpb25Ob2RlLAogICAgICBTZWFzb25Ob2RlLAogICAgICBUaW1lTm9kZSwKICAgICAgTm9kZVNldHRpbmdzLAogICAgICBGYWNlSW1hZ2UsCiAgICAgIE5vZGVGaWVsZCwKICAgICAgVG9wTWVudSwKICAgICAgVnVlU2ltcGxlQ29udGV4dE1lbnUsCiAgICAgIGF4aW9zCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["Background","Controls","MiniMap","VueFlow","isNode","isEdge","MarkerType","ConnectionMode","useVueFlow","markRaw","ref","useStore","useRouter","initialElements","MakeNode","MotivationNode","SeasonNode","TimeNode","NodeSettings","FaceImage","NodeField","TopMenu","VueSimpleContextMenu","axios","onPaneReady","onConnect","onEdgesChange","onNodesChange","addEdges","addNodes","toObject","project","getNode","getEdge","elements","nodeTypes","customMake","customMotivation","customSeason","customTime","store","router","Skeys","edgeSNum","makeNodeNum","options","name","slug","vueContextMenu","handleClick","event","Object","defineProperty","value","pageX","writable","pageY","showMenu","selectMenu","params","commit","nodes","optionClicked","copyNode","copyNodesData","state","selectnodeList","s","length","copyNodeData","type","id","ss_getId","position","x","y","label","m_getId","style","data","mv_getId","s_getId","t_getId","fitView","onLoad","flowInstance","surveySameSource","source","includes","temp2","changeEdges","edge","eid","keys","console","log","push","sameEdgeSNum","j","splice","changeMakeNodes","nodeData","imgNum","lengthNum","n","l","tempLengthNum","imgState","checkOutput","inputNode","outputNode","forEach","el","input","output","inputN","outputN","alert","q","item","nodeitems","partNum","itemNum","typeNum","indexOf","rnode","rdata","snode","selected","turn","NumOfSameSources","i","edgeItem","edgeData","sedge","animated","NumOfEdge","newEdge","getEdgeId","target","stroke","markerEnd","ArrowClosed","addEdgeLabel","addEdgeColor","addEdgeType","labelStyle","fill","labelBgStyle","onDragOver","preventDefault","dataTransfer","dropEffect","onDrop","_event$dataTransfer","getData","clientX","clientY","newNode","itemName","typeName","partName","skip","forget","nodeLabel","nodeId","submitFlowchart","params2","URLSearchParams","append","userId","userName","JSON","stringify","post","then","response","status","catch","error","fileName2","flowData2","link2","document","createElement","href","encodeURIComponent","download","click","setTimeout"],"sources":["/Users/takanosayaka/Documents/GitHub/makeup_flow_movie/src/views/Flowchart.vue"],"sourcesContent":["<script setup>\nimport { Background, Controls, MiniMap, VueFlow, isNode, isEdge, MarkerType, ConnectionMode, useVueFlow } from '@braks/vue-flow'\nimport { markRaw, ref, } from 'vue'\nimport { useStore } from 'vuex'\nimport { useRouter } from 'vue-router'\nimport { initialElements } from '../js/initial-elements.js'\n//カスタムノードの追加\nimport MakeNode from '@/components/MakeNode.vue'\nimport MotivationNode from '@/components/MotivationNode.vue'\nimport SeasonNode from '@/components/SeasonNode.vue'\nimport TimeNode from '@/components/TimeNode.vue'\n//子コンポーネントの追加\nimport NodeSettings from '@/components/NodeSettings.vue'\nimport FaceImage from '@/components/FaceImage.vue'\nimport NodeField from '@/components/NodeField.vue'\nimport TopMenu from '@/components/TopMenu.vue'\n//ライブラリの追加\nimport VueSimpleContextMenu from 'vue-simple-context-menu'\n//import 'vue-simple-context-menu/dist/vue-simple-context-menu.css'\nimport axios from \"axios\"\n//import * as htmlToImage from \"html-to-image\"\n\n//初期設定\n/* vue-flowの初期設定 */\nconst { onPaneReady, onConnect, onEdgesChange, onNodesChange, addEdges, addNodes, toObject, project, getNode, getEdge, } = useVueFlow()\nconst elements = ref(initialElements)\nconst nodeTypes = {\n  customMake: markRaw(MakeNode),\n  customMotivation: markRaw(MotivationNode),\n  customSeason: markRaw(SeasonNode),\n  customTime: markRaw(TimeNode),\n}\n/* storeとrouterの開始 */\nconst store = useStore()\nconst router = useRouter()\n/* ノードの管理変数 */\nvar Skeys = [] //source\nvar edgeSNum = [] //sourceから見たedgeの重複 source:[id]\nvar makeNodeNum = {0: [], 1: [], 2: [], 3: [], 4: [], 5: [], 6: [], 7: []} //imgNum:[id]\n/* vue-simple-context-menuの初期設定 */\nconst options = [{name: \"Copy\", slug: \"copy\"}]\nconst vueContextMenu = ref(initialElements)\n\n\n/* vue-simple-context-menuの関数 */\nconst handleClick =  (event) => {\n  // overwrite readonly properties pageX and pageY and set correct values\n  Object.defineProperty(event, 'pageX', {\n    value: event.pageX - 350,\n    writable: true\n  })\n  Object.defineProperty(event, 'pageY', {\n    value: event.pageY - 100, //event.pageY - 100\n    writable: true\n  })\n  vueContextMenu.value.showMenu(event)\n}\n//コンテキストメニューを呼び出す\nconst selectMenu = (params) => {\n  store.commit(\"setSelectNodeList\", params.nodes)\n}\n//コンテキストメニューのクリック\nconst optionClicked = () => {\n  var copyNode\n  var copyNodesData = store.state.selectnodeList\n  for(var s=0; s<copyNodesData.length; s++){\n    var copyNodeData = store.state.selectnodeList[s]\n    if(copyNodeData.type == 'input' || copyNodeData.type == 'output'){\n      //開始ノードか終了ノード\n      //コピーさせない\n      copyNode = {\n        id: ss_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n      }\n    }else if(copyNodeData.type == 'customMake'){\n      //メイクノード\n      copyNode = {\n        id: m_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n        style: copyNodeData.style,\n        data: copyNodeData.data,\n      }\n    }else{\n      //分岐（ブランチ）ノード\n      copyNode = {\n        id: copyNodeData.type == 'customMotivation'\n          ? mv_getId()\n          : copyNodeData.type == 'customSeason'\n            ? s_getId()\n            : t_getId(),\n        type: copyNodeData.type,\n        position: project({ x: copyNodeData.position.x + 100, y: copyNodeData.position.y + 100 }),\n        label: copyNodeData.label,\n        style: copyNodeData.style,\n      }\n    }\n    addNodes([copyNode])\n  }\n}\n\n/* 起動時の挙動 */\n//onPaneReadyは、viewpaneとノードに表示可能なディメンションがある場合に呼び出されます\nonPaneReady(({fitView}) => {\n  fitView()\n})\nconst onLoad = (flowInstance) => flowInstance.fitView()\n\n/* 対象のノードとエッジの調査 */\n//対象エッジと同じノードから出ているエッジの本数を返す(return)\nconst surveySameSource = (source) => {\n  if(Skeys.includes(source)){\n    var temp2 = edgeSNum[source]\n    return temp2.length\n  }else{\n    return 0\n  }\n}\n//対象エッジの追加/削除に伴うSkeysとedgeSNumの更新\nconst changeEdges = (edge, type) => {\n  //データ受け取り\n  var eid = edge.id\n  var source = edge.source\n  //Skeysの更新\n  Skeys = Object.keys(edgeSNum)\n  if(type == \"add\"){\n    console.log(\"edgeSNumの更新(追加)\")\n    if(Skeys.includes(source)){\n      edgeSNum[source].push(eid)\n    }else{\n      edgeSNum[source] = []\n      edgeSNum[source].push(eid)\n      Skeys = Object.keys(edgeSNum)\n    }\n  }else if(type == \"remove\"){\n    console.log(\"edgeSNumの更新(削除)\")\n    var sameEdgeSNum = edgeSNum[source]\n    if(sameEdgeSNum.length >= 2){\n      for(var j=0; j<sameEdgeSNum.length; j++){\n        if(sameEdgeSNum[j] == eid){\n          edgeSNum[source].splice(j, 1)\n        }\n      }\n    }else{\n      delete edgeSNum[source]\n      Skeys = Object.keys(edgeSNum)\n    }\n  }else if(type == \"change\"){\n    console.log(\"edgeSNumの更新(変更)\")\n  }else{\n    return\n  }\n}\n//対象メイクノードの追加/削除時のmakeNodeNumの値と表示イラストの更新\nconst changeMakeNodes = (nodeData) => {\n  if(nodeData.type == \"add\"){\n    makeNodeNum[nodeData.imgNum].push(nodeData.id)\n  }else if(nodeData.type == \"remove\"){\n    var lengthNum = makeNodeNum[nodeData.imgNum]\n    for(var n=0; n<lengthNum.length; n++){\n      if(lengthNum[n] == nodeData.id){\n        makeNodeNum[nodeData.imgNum].splice(n, 1)\n      }\n    }\n  }else{\n    return\n  }\n\n  //メイクノードの追加/削除に伴う表示イラストの更新\n  for(var l=0; l<Object.keys(makeNodeNum).length; l++){\n    var tempLengthNum = makeNodeNum[l]\n    if(tempLengthNum.length >= 1){\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: true})\n    }else{\n      store.commit(\"setMakeNodeList\", {imgNum:l, imgState: false})\n    }\n  }\n}\n//turn2に移る前にメイク開始・終了ノードが設置されているか確認する\nconst checkOutput = () => {\n  var inputNode = false\n  var outputNode = false\n  elements.value.forEach((el) => {\n    if (isNode(el)) {\n      if(el.type == \"input\"){\n        inputNode = true\n      }else if(el.type == \"output\"){\n        outputNode = true\n      }\n    }\n  })\n  store.commit(\"setInOutput\", {input: inputNode, output: outputNode})\n  if(!store.state.inputN || !store.state.outputN){\n    alert(\"メイク開始・終了ノードを設置してください．\")\n    return\n  }\n}\n\n/* ノードの変更時に発火する関数 */\nonNodesChange((params) => {\n  //type: dimensions(配置？/サイズ情報), select, add, remove\n  //params add:[type, item{}] remove:[type, id] select:[type, id, selected]\n  for(var q=0; q<params.length; q++){\n    if(params[q].type == \"add\"){\n      console.log(\"ノードの追加\")\n      //メイクノードだったら\n      if(params[q].item.type == \"customMake\"){\n        var nodeitems = params[q].item\n        var nodeData = nodeitems.data\n        //化粧工程の判定\n        if(nodeData.partNum == 1 && nodeData.itemNum == 8){\n          changeMakeNodes({imgNum: 0, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 1 && nodeData.itemNum == 8 && nodeData.typeNum == 2){\n          changeMakeNodes({imgNum: 1, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && nodeData.itemNum == 11){\n          changeMakeNodes({imgNum: 2, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (13 <= nodeData.itemNum && nodeData.itemNum <= 16)){\n          changeMakeNodes({imgNum: 3, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 2 && (17 <= nodeData.itemNum && nodeData.itemNum <= 20)){\n          changeMakeNodes({imgNum: 4, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 24){\n          changeMakeNodes({imgNum: 5, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 4 && nodeData.itemNum == 25){\n          changeMakeNodes({imgNum: 6, id: nodeitems.id, type: \"add\"})\n        }else if(nodeData.partNum == 0 && nodeData.itemNum == 22){\n          changeMakeNodes({imgNum: 7, id: nodeitems.id, type: \"add\"})\n        }else{\n          return\n        }\n      }\n    }else if(params[q].type == \"remove\"){\n      console.log(\"ノードの削除\")\n      if(params[q].id.indexOf('make') > -1){ //メイクノードだったら\n        const rnode = getNode.value(params[q].id)\n        const rdata = rnode.data\n        if(rdata.partNum == 1 && rdata.itemNum == 8){\n          changeMakeNodes({imgNum: 0, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 1 && rdata.itemNum == 8 && rdata.typeNum == 2){\n          changeMakeNodes({imgNum: 1, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 2 && rdata.itemNum == 11){\n          changeMakeNodes({imgNum: 2, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 2 && (13 <= rdata.itemNum && rdata.itemNum <= 16)){\n          changeMakeNodes({imgNum: 3, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 2 && (17 <= rdata.itemNum && rdata.itemNum <= 20)){\n          changeMakeNodes({imgNum: 4, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 4 && rdata.itemNum == 24){\n          changeMakeNodes({imgNum: 5, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 4 && rdata.itemNum == 25){\n          changeMakeNodes({imgNum: 6, id: params[q].id, type: \"remove\"})\n        }else if(rdata.partNum == 0 && rdata.itemNum == 22){\n          changeMakeNodes({imgNum: 7, id: params[q].id, type: \"remove\"})\n        }else{\n          return\n        }\n      }\n    }else if(params[q].type == \"select\"){\n      var snode\n      if(params[q].id.indexOf('make') > -1 || params[q].id.indexOf('branch') > -1){\n        //メイクノードかブランチノードだったら\n        snode = getNode.value(params[q].id)\n        if(params[q].selected){\n          snode.style[\"--vf-node-color\"] = '#3cb371'\n        }else{\n          snode.style[\"--vf-node-color\"] = 'black'\n        }\n      }\n      if(store.state.turn == 2){\n        if(params[q].id.indexOf('make') > -1){\n          //メイクノードだったら\n          if(params[q].selected){\n            if(!snode.data[\"skip\"]){\n              //skipがfalseだったら\n              snode.style[\"--vf-node-text\"] = '#ff8c00'\n              snode.data[\"skip\"] = true\n            }else{\n              //skipがtrueだったら\n              snode.style[\"--vf-node-text\"] = 'black'\n              snode.data[\"skip\"] = false\n            }\n          }\n        }\n      }else if(store.state.turn == 3){\n        if(params[q].id.indexOf('make') > -1){\n          //メイクノードだったら\n          if(params[q].selected){\n            if(!snode.data[\"forget\"]){\n              //forgetがfalseだったら\n              snode.style[\"--vf-node-bg\"] = \"pink\"\n              snode.data[\"forget\"] = true\n            }else{\n              //forgetがtrueだったら\n              snode.style[\"--vf-node-bg\"] = \"white\"\n              snode.data[\"forget\"] = false\n            }\n          }\n        }\n      }\n    }\n    else{\n      return\n    }\n  }\n})\n/* エッジの変更時に発火する関数 */\nonEdgesChange((params) => {\n  var NumOfSameSources\n  //params add:[type, item{}]  remove:[type, id]  select:[type, id, selected]\n  for(var i=0; i<params.length; i++){\n    if(params[i].type == \"add\"){\n      var edgeItem = params[i].item\n      //edgeSNumに新しいエッジを追加する\n      Skeys = Object.keys(edgeSNum) //最新版に更新\n      if(Skeys.includes(edgeItem.source)){\n        edgeSNum[edgeItem.source].push(edgeItem.id)\n      }else{\n        edgeSNum[edgeItem.source] = []\n        edgeSNum[edgeItem.source].push(edgeItem.id)\n        Skeys = Object.keys(edgeSNum)\n      }\n      //追加するエッジと同じsourceのエッジが何本あるか調べる\n      NumOfSameSources = surveySameSource(edgeItem.source)\n      //エッジが現状で1本以上あったらエッジをsmoothstepに切り替える\n      if(NumOfSameSources >= 1){\n        elements.value.forEach((el) => {\n          if (isEdge(el) && el.source == edgeItem.source) {\n            el.type = 'smoothstep'\n          }\n        })\n      }\n    }else if(params[i].type == \"remove\"){\n      var source\n      var edgeData\n      //消すエッジと同じsourceのエッジが何本あるか調べる\n      elements.value.forEach((el) => {\n        if (el.id == params[i].id) {\n          edgeData = el\n          source = el.source\n          NumOfSameSources = surveySameSource(source)\n        }\n      })\n      //エッジが現状で2本以下だったらエッジをstraightに切り替える\n      if(NumOfSameSources == 2){\n        elements.value.forEach((el) => {\n          if (isEdge(el) && el.source == source) {\n            el.type = 'straight'\n          }\n        })\n      }\n      //edgeListの状態変更\n      changeEdges(edgeData, \"remove\")\n    }else if(params[i].type == \"select\"){\n      var sedge = getEdge.value(params[i].id)\n      if(params[i].selected){\n        sedge.animated = true\n        //turn2だったらラベル設定用にidを保存する\n        if(store.state.turn == 2){\n          store.commit(\"setEdgeId\", params[i].id)\n        }\n      }else{\n        sedge.animated = false\n        //turn2だったらラベル設定用にidを保存する\n        if(store.state.turn == 2){\n          store.commit(\"setEdgeId\", \"\")\n        }\n      }\n    }else{\n      return\n    }\n  }\n})\n/* エッジの追加時に発火する関数 onConnect->onEdgesChange */\nonConnect((params) => {\n  console.log(\"エッジの追加\")\n  //params:[source, sourceHandle, target, targetHandle]\n\n  //同じソースのエッジの本数を取得する\n  var NumOfEdge\n  Skeys = Object.keys(edgeSNum)\n  if(Skeys.includes(params.source)){\n    NumOfEdge = surveySameSource(params.source) +1\n  }else{\n    NumOfEdge = 1\n  }\n\n  //新しいエッジの追加\n  var newEdge\n  const getEdgeId = () => `e${params.source}_${params.target}`\n  if(NumOfEdge < 3){\n    if(params.source.indexOf('make') > -1){\n      //customMakeだったら\n      if(NumOfEdge < 2){\n        newEdge = {\n          id: getEdgeId(),\n          source: params.source,\n          target: params.target,\n          type: 'straight',\n          style: { stroke: 'black' },\n          markerEnd: MarkerType.ArrowClosed,\n          animated: false,\n        }\n      }else{\n        //メイクノードではエッジを1本しか生やせない\n        alert(\"1つの化粧ノードから出せる矢印は1本だけです.追加で分岐させたい場合は分岐ノードを繋げてください\")\n        return\n      }\n    }else if(params.source.indexOf('branch') > -1){\n      //customBranchだったら\n      var addEdgeLabel\n      var addEdgeColor\n      var addEdgeType\n      if(params.source.indexOf('mvbranch') > -1){\n        //やる気ノード\n        addEdgeLabel = NumOfEdge%2 == 0 ? 'なし' : 'あり'\n        addEdgeColor = NumOfEdge%2 == 0 ? 'blue' : 'red'\n        addEdgeType = NumOfEdge%2 == 0 ? 'no' : 'max'\n      }else if(params.source.indexOf('sbranch') > -1){\n        //季節ノード\n        addEdgeLabel = NumOfEdge%2 == 0 ? '冬' : '夏'\n        addEdgeColor = NumOfEdge%2 == 0 ? 'gray' : 'blue'\n        addEdgeType = NumOfEdge%2 == 0 ? 'winter' : 'summer'\n      }else{\n        //時間ノード\n        addEdgeLabel = NumOfEdge%2 == 0 ? '短い' : '長い'\n        addEdgeColor = NumOfEdge%2 == 0 ? 'blue' : 'red'\n        addEdgeType = NumOfEdge%2 == 0 ? 'short' : 'long'\n      }\n      newEdge = {\n        id: getEdgeId(),\n        source: params.source,\n        target: params.target,\n        type: NumOfEdge>1 ? 'smoothstep' : 'straight',\n        label: addEdgeLabel,\n        style: { stroke: addEdgeColor },\n        labelStyle: { fill: 'white' },\n        labelBgStyle: { fill: addEdgeColor },\n        markerEnd: MarkerType.ArrowClosed,\n        animated: false,\n        data: {\n          type: addEdgeType\n        },\n      }\n    }else{\n      //input/outputだったら\n      if(NumOfEdge < 2){\n        newEdge = {\n          id: getEdgeId(),\n          source: params.source,\n          target: params.target,\n          type: 'straight',\n          style: { stroke: 'black' },\n          markerEnd: MarkerType.ArrowClosed,\n          animated: false,\n        }\n      }else{\n        //メイクノードではエッジを1本しか生やせない\n        alert(\"1つのメイク開始/終了ノードから出せる矢印は1本だけです.追加で分岐させたい場合は分岐ノードを繋げてください\")\n        return\n      }\n    }\n  }else{\n    //新しく足すエッジが3本目だったら追加させない\n    alert(\"1つのノードから出せる矢印は2本までです.追加で分岐させたい場合は分岐ノードを繋げてください\")\n    return\n  }\n  addEdges([newEdge])\n})\n\n/* マウス操作に結びつけた関数 */\n//ノードのドラッグ操作\nconst onDragOver = (event) => {\n  event.preventDefault()\n  if (event.dataTransfer) {\n    event.dataTransfer.dropEffect = 'move'\n  }\n}\n//ノードのドロップによる，新規ノードの追加\nlet id = 0\nconst ss_getId = () => `ss_${id++}`\nconst m_getId = () => `make_${id++}`\nconst mv_getId = () => `mvbranch_${id++}`\nconst s_getId = () => `sbranch_${id++}`\nconst t_getId = () => `tbranch_${id++}`\nconst onDrop = (event) => {\n  const type = event.dataTransfer?.getData('application/vueflow')\n  const position = project({ x: event.clientX - 400, y: event.clientY - 150 })\n  var newNode\n  if(type == 'input' || type == 'output'){\n    //開始ノードか終了ノード\n    newNode = {\n      id: ss_getId(), type, position,\n      label: type == 'input' ? 'メイク開始' : 'メイク終了',\n    }\n  }else if(type == 'customMake'){\n    //メイクノード\n    newNode = {\n      id: m_getId(),\n      type, position,\n      label: store.state.itemName.length >= 7\n        ? store.state.itemName+'\\n('+store.state.typeName+')'\n        : store.state.itemName+'('+store.state.typeName+')',\n      style: { \"--vf-node-color\": 'black' },\n      data: {\n        partName: store.state.partName,\n        partNum: store.state.partNum,\n        itemName: store.state.itemName,\n        itemNum: store.state.itemNum,\n        typeName: store.state.typeName,\n        typeNum: store.state.typeNum,\n        skip: false,\n        forget: false,\n      }\n    }\n  }else{\n    //分岐ノード\n    var nodeLabel\n    var nodeId\n    if(type == 'customMotivation'){\n      nodeLabel = '気合い'\n      nodeId = mv_getId()\n    }else if(type == 'customSeason'){\n      nodeLabel = '季節'\n      nodeId = s_getId()\n    }else{\n      nodeLabel = '外出時間'\n      nodeId = t_getId()\n    }\n    newNode = {\n      id: nodeId,\n      type, position,\n      label: nodeLabel,\n      style: { \"--vf-node-color\": 'black' },\n    }\n  }\n  addNodes([newNode])\n}\n\nconst submitFlowchart = () => {\n  console.log(\"データのmysqlへの送信&実験終了\")\n  const params2 = new URLSearchParams()\n  params2.append('userId', store.state.userId)\n  params2.append('userName', store.state.userName)\n  params2.append('flowchart', JSON.stringify(toObject()))\n  axios.post('https://takano.nkmr.io/flowchart_post.php', params2)\n  .then((response)=>{\n    //上手く行った時\n    console.log('status:',response.status)\n  }).catch((error)=>{\n    //失敗した時\n    console.log('err:',error)\n  })\n  //フローチャートデータのダウンロード\n  const fileName2 = store.state.userName+\".json\"\n  const flowData2 = JSON.stringify(toObject())\n  const link2 = document.createElement(\"a\")\n  link2.href = \"data:text/plain,\" + encodeURIComponent(flowData2)\n  link2.download = fileName2\n  link2.click()\n  //フローチャート画像のダウンロード\n  /*\n  htmlToImage.toSvg(document.querySelector('.vue-flow__container'))\n  .then(function (dataUrl2) {\n    // 私の場合はダウンロード処理を実行\n    const a2 = document.createElement('a')\n    a2.download = store.state.userName+'.svg'\n    a2.href = dataUrl2\n    a2.click()\n  })\n  */\n  //実験終了画面へ移動\n  setTimeout(function(){\n    router.push('/finish')\n  }, 1000)\n}\n</script>\n\n<template>\n  <TopMenu @submitObject=\"submitFlowchart\" @checkTurn1=\"checkOutput\" />\n  <div class=\"dndflow\" @drop=\"onDrop\">\n    <div class=\"sidemenu\">\n      <FaceImage />\n      <NodeSettings />\n      <NodeField />\n    </div>\n    <VueFlow\n      class=\"basicflow\" v-model=\"elements\"\n      :node-types=\"nodeTypes\" :default-zoom=\"1.5\" :min-zoom=\"0.2\" :max-zoom=\"4\"\n      :fit-view-on-init=\"true\" :snap-to-grid=\"true\" :connection-mode=\"ConnectionMode.Loose\"\n      @dragover=\"onDragOver\" @pane-ready=\"onLoad\" @selection-context-menu=\"selectMenu\"\n      @contextmenu.prevent.stop=\"handleClick($event)\"\n    >\n      <Background pattern-color=\"#000000\" gap=\"8\" />\n      <MiniMap />\n      <Controls />\n      <!--カスタムノードの設定-->\n      <template #node-Make=\"props\">\n        <MakeNode v-bind=\"props\" />\n      </template>\n      <template #node-Motivation=\"props\">\n        <MotivationNode v-bind=\"props\" />\n      </template>\n      <template #node-Season=\"props\">\n        <SeasonNode v-bind=\"props\" />\n      </template>\n      <template #node-Time=\"props\">\n        <TimeNode v-bind=\"props\" />\n      </template>\n      <!--context-menuの設定-->\n      <vue-simple-context-menu\n        element-id=\"myUniqueId\"\n        :options=\"options\"\n        ref=\"vueContextMenu\"\n        @option-clicked=\"optionClicked\"\n      />\n    </VueFlow>\n  </div>\n</template>\n\n<style>\n@import '../css/flowchart.css';\n@import '../css/vue-simple-context-menu.css';\n</style>"]}]}